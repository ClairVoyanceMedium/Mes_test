<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="last-modified" content="2025-03-10">
  <meta name="theme-color" content="#1A1A1A">
  <title>Maximisez vos gains au Loto grâce à l'IA – ClairvoyanceMedium</title>
  <meta name="description" content="Boostez vos chances au Loto français avec des grilles optimisées par notre algorithme IA. Des prédictions précises basées sur des données historiques et statistiques." />
  <meta name="keywords" content="loto, prédictions, algorithme, IA, clairvoyance, gains, loterie, numéros chanceux" />
  <meta name="author" content="ClairvoyanceMedium.com">
  <meta name="robots" content="index,follow">

  <!-- Open Graph -->
  <meta property="og:title" content="Maximisez vos gains au Loto grâce à l'IA – ClairvoyanceMedium" />
  <meta property="og:description" content="Des grilles optimisées pour le Loto français basées sur un algorithme d’intelligence artificielle performant. Tentez votre chance !" />
  <meta property="og:url" content="https://www.clairvoyancemedium.com/" />
  <meta property="og:image" content="https://i.imgur.com/GmyGlKk.jpg" />
  <meta property="og:type" content="website" />
  <link rel="canonical" href="https://www.clairvoyancemedium.com/" />
  <link rel="icon" href="https://clairvoyancemedium.github.io/favicon_optimized.png" type="image/png" sizes="32x32">
  <link rel="preconnect" href="https://clairvoyancemedium.github.io">
  <link rel="preload" href="https://clairvoyancemedium.github.io/Consultation_de_voyance_par_email_pas_chere.github.io/Cinzel-Regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- Anti-clickjacking -->
  <script nonce="xai-48273">
    if (window.top !== window.self) {
      window.top.location = window.self.location;
      console.warn("Tentative de clickjacking bloquée.");
    }
  </script>

  <!-- Police Cinzel avec fallback -->
  <style>
    @font-face {
      font-family: 'Cinzel';
      src: url('https://clairvoyancemedium.github.io/Consultation_de_voyance_par_email_pas_chere.github.io/Cinzel-Regular.woff2') format('woff2');
      font-weight: 400;
      font-display: swap;
    }
  </style>

  <!-- Styles CSS optimisés -->
  <style>
    :root {
      --gold: #BBAE98;
      --dark-gold: #8B5A2B;
      --donation-start: #87CEFA;
      --donation-end: #F4A460;
      --text-light: #F5F5F5;
      --bg-dark: #1A1A1A;
      --section-bg: #2A2A2A;
      --neon-light: #d3d3d3;
      --neon-reflect: #ff69b4;
    }
    html {
      font-size: 16px;
      scroll-behavior: smooth;
      -webkit-text-size-adjust: 100%;
    }
    body {
      margin: 0;
      padding: 20px;
      font-family: 'Cinzel', serif;
      background: var(--bg-dark);
      color: var(--text-light);
      line-height: 1.6;
      text-align: center;
      -webkit-font-smoothing: antialiased;
    }
    a {
      text-decoration: none;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: var(--section-bg);
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }
    /* Skip link for accessibility */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--gold);
      color: var(--bg-dark);
      padding: 8px;
      z-index: 100;
      transition: top 0.3s;
    }
    .skip-link:focus {
      top: 0;
    }
    header {
      padding: 2rem 0;
    }
    header img {
      width: 720px;
      height: auto;
      max-width: 100%;
      display: block;
      margin: 0 auto;
    }
    .dynamic-phrase {
      font-family: 'Cinzel', serif;
      font-style: italic;
      font-size: 2rem;
      color: var(--neon-light);
      text-shadow: 0 0 5px var(--neon-reflect), 0 0 10px var(--neon-reflect);
      transform: skew(-5deg);
      margin: 1.5rem 0;
      padding: 0.5rem;
    }
    .dynamic-phrase span {
      display: inline;
      font-size: inherit;
    }
    .dynamic-phrase .pause {
      margin: 0 0.5rem;
    }
    h1 {
      font-family: 'Cinzel', serif;
      font-size: 2.8rem;
      margin: 1rem 0;
      text-transform: uppercase;
      color: var(--gold);
      letter-spacing: 1px;
    }
    h2 {
      font-family: 'Cinzel', serif;
      font-size: 2rem;
      margin: 1.5rem 0;
      color: var(--gold);
    }
    .nav-container {
      margin: 1rem 0 2rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .nav-container a {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      padding: 0.75rem 1.25rem;
      border: 1px solid var(--gold);
      border-radius: 4px;
      transition: background 0.3s;
      min-width: 120px;
      text-align: center;
    }
    .nav-container a:hover,
    .nav-container a:focus {
      background: var(--gold);
      color: var(--bg-dark);
      outline: 2px solid var(--donation-start);
    }
    .intro-text {
      font-family: 'Cinzel', serif;
      font-size: 1.1rem;
      margin: 2rem auto;
      max-width: 800px;
      text-align: center;
      background: var(--section-bg);
      color: var(--text-light);
      padding: 1rem;
      border-radius: 4px;
    }
    section {
      background: var(--section-bg);
      padding: 2rem;
      border-radius: 6px;
      margin: 2rem 0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    .prediction-container {
      background: var(--gold);
      color: var(--bg-dark);
      padding: 1.5rem;
      border-radius: 6px;
    }
    .disclaimer {
      font-family: 'Cinzel', serif;
      background: var(--section-bg);
      color: var(--text-light);
      padding: 1rem;
      border-radius: 4px;
      margin: 1rem 0;
      font-weight: bold;
      text-align: center;
    }
    .result {
      font-family: 'Cinzel', serif;
      font-size: 1.75rem;
      font-weight: bold;
      margin: 1.5rem 0;
    }
    #next-draw-datetime {
      font-family: 'Cinzel', serif;
      font-size: 1.25rem;
    }
    .btn, .don-btn, .email-btn {
      font-family: 'Cinzel', serif;
      display: inline-block;
      padding: 1rem 2rem;
      font-size: 1.5rem;
      border-radius: 4px;
      margin-top: 1rem;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s;
      background: var(--gold);
      color: var(--bg-dark);
      border: none;
      min-width: 120px;
    }
    .btn:hover, .btn:focus,
    .don-btn:hover, .don-btn:focus,
    .email-btn:hover, .email-btn:focus {
      background: var(--dark-gold);
      transform: scale(1.05);
      outline: 2px solid var(--donation-start);
    }
    .don-btn, .email-btn {
      background: linear-gradient(45deg, var(--donation-start), var(--donation-end));
      border: 2px solid var(--donation-end);
      color: var(--text-light);
    }
    .chance-number {
      color: #FFD700;
      font-weight: bold;
    }
    .don-btn {
      min-width: 200px;
      animation: blink 1s infinite;
    }
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    .carousel {
      position: relative;
      max-width: 100%;
      min-height: 150px;
      overflow: hidden;
      border: 2px solid var(--donation-start);
      border-radius: 8px;
      box-shadow: 0 0 15px var(--donation-start), 0 0 15px var(--gold);
    }
    .carousel-inner {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .carousel-item {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      opacity: 0;
      transition: opacity 0.8s ease-in-out;
      text-align: center;
      padding: 1.5rem;
      font-size: 1rem;
    }
    .carousel-item.active {
      opacity: 1;
      position: relative;
    }
    .carousel-nav {
      margin-top: 1rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }
    .carousel-nav button {
      font-family: 'Cinzel', serif;
      background: var(--donation-start);
      color: var(--text-light);
      border: none;
      padding: 0.5rem 1rem;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
      border-radius: 4px;
      min-width: 60px;
    }
    .carousel-nav button:hover,
    .carousel-nav button:focus {
      background: var(--gold);
      transform: scale(1.1);
      outline: 2px solid var(--donation-start);
    }
    footer {
      font-family: 'Cinzel', serif;
      margin-top: 3rem;
      font-size: 0.9rem;
      color: #B0B0B0;
      text-align: center;
    }
    footer a {
      color: var(--gold);
    }
    footer a:hover, footer a:focus {
      text-decoration: underline;
      outline: 2px solid var(--donation-start);
    }
    #draggableContact {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 70px;
      height: 70px;
      background: linear-gradient(45deg, var(--donation-start), var(--donation-end));
      border: 2px solid var(--donation-end);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: move;
      z-index: 1000;
      touch-action: none;
    }
    #draggableContact svg {
      width: 32px;
      height: 32px;
      fill: var(--text-light);
    }
    :focus {
      outline: 2px solid var(--donation-start);
      outline-offset: 2px;
    }
    .subscribe-section {
      background: var(--section-bg);
      padding: 2rem;
      border-radius: 6px;
      margin: 2rem 0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    .subscribe-section p {
      font-family: 'Cinzel', serif;
      font-size: 1.1rem;
      margin-bottom: 1rem;
      text-align: center;
    }
    .subscribe-section form {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .subscribe-section input[type="email"] {
      padding: 0.75rem;
      font-family: 'Cinzel', serif;
      font-size: 1rem;
      border: 2px solid var(--gold);
      border-radius: 4px;
      background: var(--bg-dark);
      color: var(--text-light);
      width: 250px;
    }
    .subscribe-section input[type="email"]::placeholder {
      color: #B0B0B0;
    }
    .subscribe-section button {
      background: linear-gradient(45deg, var(--donation-start), var(--donation-end));
      border: 2px solid var(--donation-end);
      color: var(--text-light);
      padding: 1rem 2rem;
      font-size: 1.5rem;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s;
    }
    .subscribe-section button:hover {
      background: var(--dark-gold);
      transform: scale(1.05);
    }
    @media (max-width: 600px) {
      .container { padding: 15px; }
      h1 { font-size: 2rem; }
      h2 { font-size: 1.5rem; }
      .result { font-size: 1.5rem; }
      #draggableContact { width: 60px; height: 60px; }
      .subscribe-section form { flex-direction: column; }
      .carousel-item { font-size: 0.9rem; padding: 1rem; }
      .btn, .don-btn, .email-btn, .subscribe-section button {
        padding: 0.75rem 1.5rem;
        font-size: 1.2rem;
      }
    }
    section[loading="lazy"] {
      opacity: 0;
      transition: opacity 0.5s;
    }
    section[loading="lazy"].loaded {
      opacity: 1;
    }
  </style>

  <!-- JSON-LD: Website, FAQPage, et Service -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Website",
      "name": "ClairvoyanceMedium",
      "url": "https://www.clairvoyancemedium.com/",
      "description": "Boostez vos chances au Loto français avec des grilles optimisées par notre IA de pointe.",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://www.clairvoyancemedium.com/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [
          {"@type": "ListItem", "position": 1, "name": "Accueil", "item": "https://www.clairvoyancemedium.com/"},
          {"@type": "ListItem", "position": 2, "name": "Prédictions Loto", "item": "https://www.clairvoyancemedium.com/"}
        ]
      }
    }
  </script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {"@type": "Question", "name": "Comment fonctionnent les prédictions Loto par IA ?", "acceptedAnswer": {"@type": "Answer", "text": "Notre IA analyse des données historiques et statistiques pour générer des grilles optimisées."}},
        {"@type": "Question", "name": "Les prédictions Loto garantissent-elles un gain ?", "acceptedAnswer": {"@type": "Answer", "text": "Non, elles sont indicatives et visent à maximiser vos chances."}},
        {"@type": "Question", "name": "Combien coûte une prédiction Loto ?", "acceptedAnswer": {"@type": "Answer", "text": "Les prédictions de base sont gratuites. Des services premium débutent à 22€."}}
      ]
    }
  </script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Service",
      "name": "Voyance par téléphone",
      "provider": {
        "@type": "Organization",
        "name": "ClairvoyanceMedium"
      },
      "description": "Service de voyance par téléphone pour affiner vos stratégies au Loto.",
      "offers": {
        "@type": "Offer",
        "price": "22.00",
        "priceCurrency": "EUR",
        "availability": "https://schema.org/InStock"
      }
    }
  </script>

  <!-- Google Ads & Analytics Scripts -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RZP46D0P7Y"></script>
  <script nonce="48273">
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-RZP46D0P7Y', {'send_page_view': true});
  </script>
  <script nonce="48273" async src="https://www.googletagmanager.com/gtag/js?id=AW-CONVERSION_ID"></script>
  <script nonce="48273">
    (function(){
      function initGoogleAds(config) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', `AW-${config.conversionId}`);
      }
      initGoogleAds({ conversionId: '00000000000' });
    })();
  </script>
  <!-- Google Tag Manager -->
  <script nonce="48273">
    (function(w,d,s,l,i){
      w[l]=w[l]||[];
      w[l].push({'gtm.start': new Date().getTime(), event:'gtm.js'});
      var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),
          dl=l!='dataLayer'?'&l='+l:'';
      j.async=true;
      j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
      f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P3J6SXCH');
  </script>
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P3J6SXCH" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>

  <!-- Lien de saut au contenu pour l'accessibilité -->
  <a href="#mainContent" class="skip-link">Passer au contenu</a>

  <div class="container">
    <header role="banner">
      <picture>
        <source srcset="https://i.imgur.com/GmyGlKk.webp" type="image/webp" sizes="(max-width: 600px) 100vw, 720px">
        <img src="https://i.imgur.com/GmyGlKk.jpg" alt="Logo ClairvoyanceMedium – Prédictions et conseils pour gagner au Loto français" loading="lazy" width="720" height="405" sizes="(max-width: 600px) 100vw, 720px">
      </picture>
      <div class="dynamic-phrase">
        <span lang="fr-FR">Comment gagner au loto en <span id="dynamicDate"></span> ?</span>
      </div>
      <!-- Titre principal -->
      <h1>Maximisez vos gains au Loto grâce à l'IA</h1>
      <!-- Navigation principale -->
      <nav class="nav-container" role="navigation" aria-label="Menu principal">
        <a href="#predictionSection" onclick="trackClick('Nav_Predictions')" aria-label="Générer votre grille de Loto gratuitement">Générer grille</a>
        <a href="#contactSection" onclick="trackClick('Nav_Contact')" aria-label="Envoyer une demande pour un jeu de hasard">Contact</a>
        <a href="#reviewsSection" onclick="trackClick('Nav_Reviews')" aria-label="Lire les avis vérifiés">Avis</a>
        <a href="#servicesSection" onclick="trackClick('Nav_Services')" aria-label="Découvrir nos services pour gagner au Loto">Services</a>
      </nav>
      <div class="intro-text" role="region" aria-label="Introduction">
        <strong>Optimisez vos chances de gagner</strong> avec des grilles générées par notre algorithme IA et l'expertise de Frederick. Inscrivez-vous et recevez vos numéros en temps réel.
      </div>
    </header>

    <main id="mainContent" role="main">
      <section class="prediction-container" id="predictionSection" loading="lazy" aria-label="Prédictions Loto">
        <h2>Générer votre grille Loto</h2>
        <p id="next-draw-datetime">
          <time id="draw-time" datetime=""></time>
        </p>
        <p class="result" id="prediction" role="status" aria-live="polite">Chargement...</p>
        <div class="disclaimer" role="alert">Résultats non garantis</div>
        <button class="btn" onclick="getAdvancedPredictions(); trackClick('Generate_Grid')" aria-label="Générer une nouvelle grille">Nouvelle grille</button>
      </section>

      <a href="https://buy.stripe.com/aEU3cAgDOeXl7SMbK3" class="don-btn" target="_blank" rel="noopener noreferrer" onclick="trackClick('Donation_Bottom')" aria-label="Faire un don pour soutenir le développement du site">Faire un don</a>

      <section class="subscribe-section" id="subscribeSection" loading="lazy" aria-label="Inscription à la newsletter">
        <h2>Recevez vos grilles par e-mail</h2>
        <p>Inscrivez-vous pour recevoir vos numéros avant chaque tirage du Loto (non applicable à l’Euromillions).</p>
        <form id="subscribeForm" onsubmit="handleSubscribe(event)" aria-label="Formulaire d'inscription à la newsletter">
          <input type="email" placeholder="Entrez votre e-mail" required aria-label="Adresse e-mail">
          <button type="submit" aria-label="S’inscrire">S’inscrire</button>
          <span id="errorMessage" role="alert" aria-live="assertive" style="color:#FF6347;"></span>
        </form>
      </section>

      <section id="contactSection" loading="lazy" aria-label="Contact">
        <h2>Contactez-nous</h2>
        <p>Pour une assistance personnalisée concernant le Loto ou d'autres jeux de hasard, contactez-nous.</p>
        <a href="mailto:contact.clairvoyancemedium@gmail.com?tracking=suivi" class="email-btn" target="_blank" rel="noopener noreferrer" onclick="trackClick('Email_Contact')" aria-label="Envoyer un e-mail de contact">Envoyer un e-mail</a>
      </section>

      <section id="reviewsSection" loading="lazy" aria-label="Avis des utilisateurs">
        <h2>Avis de nos utilisateurs</h2>
        <div class="carousel" role="region" aria-label="Carrousel d'avis" aria-live="polite" tabindex="0">
          <div class="carousel-inner" id="carouselInner"></div>
        </div>
        <div class="carousel-nav">
          <button onclick="prevReview(); trackClick('Carousel_Prev')" aria-label="Avis précédent">←</button>
          <button onclick="nextReview(); trackClick('Carousel_Next')" aria-label="Avis suivant">→</button>
        </div>
        <div id="carouselIndicator" aria-live="polite" style="margin-top:10px; font-size:0.9rem;"></div>
        <a href="https://buy.stripe.com/aEU3cAgDOeXl7SMbK3" class="don-btn" target="_blank" rel="noopener noreferrer" onclick="trackClick('Donation_Bottom')" aria-label="Faire un don pour soutenir le développement du site">Faire un don</a>
      </section>

      <section id="servicesSection" loading="lazy" aria-label="Nos services">
        <h2>Nos services exclusifs</h2>
        <p>Améliorez vos gains avec nos services sur-mesure pour maximiser vos chances au Loto.</p>
        <a href="https://www.clairvoyancemedium.com/Voyance-par-telephone-5-minutes-cbaaaaaZa.asp?tracking=suivi" class="btn" target="_blank" rel="noopener noreferrer" onclick="trackClick('Telephone_Voyance_5')" aria-label="Voyance par téléphone – 5 min/8,00€">Voyance téléphonique 5 min/8€</a>
        <a href="https://www.clairvoyancemedium.com/Voyance-3-Questions-par-Email-cbaaaaaca.asp?tracking=suivi" class="btn" target="_blank" rel="noopener noreferrer" onclick="trackClick('Email_Voyance_3')" aria-label="Voyance par e-mail – 3 questions/12,00€">Voyance par e-mail 3Q/12€</a>
        <a href="https://www.clairvoyancemedium.com/Voyance-par-telephone-20-minutes-cbaaaaapa.asp?tracking=suivi" class="btn" target="_blank" rel="noopener noreferrer" onclick="trackClick('Telephone_Voyance_22')" aria-label="Voyance par téléphone – 20 min/22,00€">Voyance téléphonique 20 min/22€</a>
        <a href="https://www.clairvoyancemedium.com/Desenvoutement-et-protection-a-distance-cbaaaaala.asp?tracking=suivi" class="btn" target="_blank" rel="noopener noreferrer" onclick="trackClick('Desenvoutement')" aria-label="Rituel anti-malchance – 150,00€">Rituel anti-malchance 150€</a>
        <a href="https://www.clairvoyancemedium.com/Recevez-1-message-d-un-defunt-cbaaaabka.asp?tracking=suivi" class="btn" target="_blank" rel="noopener noreferrer" onclick="trackClick('Defunt_Message')" aria-label="Appel à un défunt – 17,00€">Appel à un défunt 17€</a>
      </section>
    </main>

    <footer role="contentinfo">
      <p>© <span id="current-year"></span> ClairvoyanceMedium.com - Tous droits réservés.</p>
      <p><a href="https://www.clairvoyancemedium.com" target="_blank" rel="noopener noreferrer" onclick="trackClick('Footer_Link')" aria-label="Visitez notre site officiel">www.clairvoyancemedium.com</a></p>
    </footer>
  </div>

  <div id="draggableContact" aria-label="Contactez-nous par e-mail" role="button" tabindex="0">
    <a href="mailto:contact.clairvoyancemedium@gmail.com?tracking=suivi" target="_blank" rel="noopener noreferrer" onclick="trackClick('Contact_Icon')" aria-label="Envoyer un e-mail de contact">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path>
      </svg>
    </a>
  </div>

  <!-- Scripts optimisés -->
  <script defer>
    /*******************************
     * Mise à jour dynamique des dates
     *******************************/
    (function(){
      const now = new Date();
      const currentYear = now.getFullYear();
      const currentMonth = now.toLocaleString('fr-FR', { month: 'long' });
      document.getElementById("dynamicDate").textContent = currentMonth + " " + currentYear;
      document.getElementById("current-year").textContent = currentYear;
    })();

    /*******************************
     * Fonction de suivi (tracking)
     *******************************/
    function trackClick(eventLabel) {
      console.log(`Tracking: ${eventLabel}`);
      if (typeof gtag === 'function') {
        gtag('event', 'click', { event_category: 'Interaction', event_label: eventLabel, value: 1 });
      }
    }

    /*******************************
     * Données Loto simulées et grille optimisée
     *******************************/
    const lotoData = {
      history: [
        { numbers: [5, 12, 19, 26, 33], chance: 8 },
        { numbers: [7, 13, 22, 41, 38], chance: 7 },
        { numbers: [7, 15, 22, 41, 38], chance: 9 },
        { numbers: [4, 12, 19, 41, 38], chance: 6 },
        { numbers: [5, 13, 19, 41, 33], chance: 8 }
      ]
    };

    function computeOptimizedGrid(history) {
      const freq = new Array(49).fill(0);
      history.forEach(draw => draw.numbers.forEach(num => freq[num - 1]++));
      const selected = [];
      while(selected.length < 5) {
        const totalWeight = freq.reduce((a, b) => a + (b + 1), 0);
        let rnd = Math.random() * totalWeight, cum = 0;
        for(let i = 0; i < 49; i++){
          cum += freq[i] + 1;
          if(rnd < cum && !selected.includes(i+1)){
            selected.push(i+1);
            break;
          }
        }
      }
      selected.sort((a, b) => a - b);
      const chanceFreq = new Array(10).fill(0);
      history.forEach(draw => { chanceFreq[draw.chance - 1]++; });
      const totalChanceWeight = chanceFreq.reduce((a, b) => a + (b + 1), 0);
      let rndChance = Math.random() * totalChanceWeight, cumChance = 0, chance = 1;
      for(let i = 0; i < 10; i++){
        cumChance += chanceFreq[i] + 1;
        if(rndChance < cumChance) {
          chance = i + 1;
          break;
        }
      }
      return [...selected, chance];
    }

    function getNextDrawDate() {
      const now = new Date();
      const drawDays = [1, 3, 6]; // Lundi, Mercredi, Samedi
      const currentDay = now.getDay();
      const currentHours = now.getHours();
      const currentMinutes = now.getMinutes();
      let nextDraw = new Date(now);
      if(drawDays.includes(currentDay) && (currentHours < 20 || (currentHours === 20 && currentMinutes < 10))) {
        nextDraw.setHours(20, 20, 0, 0);
      } else {
        let daysToAdd = 1;
        while(!drawDays.includes((currentDay + daysToAdd) % 7)) {
          daysToAdd++;
        }
        nextDraw.setDate(now.getDate() + daysToAdd);
        nextDraw.setHours(20, 10, 0, 0);
      }
      return nextDraw;
    }

    async function getAdvancedPredictions() {
      try {
        const data = await Promise.resolve(lotoData);
        const nextDrawDate = getNextDrawDate();
        const nextDrawText = nextDrawDate.toLocaleDateString('fr-FR') + ' | ' + nextDrawDate.toLocaleTimeString('fr-FR', {hour: '2-digit', minute:'2-digit'});
        const isoDate = nextDrawDate.toISOString();
        document.getElementById("draw-time").textContent = nextDrawText;
        document.getElementById("draw-time").setAttribute("datetime", isoDate);
        document.getElementById("next-draw-datetime").innerHTML = `Prochain tirage : <time id="draw-time" datetime="${isoDate}">${nextDrawText}</time>`;
        const grid = computeOptimizedGrid(data.history);
        document.getElementById("prediction").innerHTML = `${grid.slice(0, 5).join(" - ")} - Chance : <span class="chance-number">${grid[5]}</span>`;
      } catch (error) {
        console.error("Erreur lors de la génération des prédictions :", error);
        document.getElementById("prediction").textContent = "Erreur lors du chargement.";
      }
    }
    getAdvancedPredictions();

    /*******************************
     * Carrousel d'avis avec indicateur de slide
     *******************************/
    const reviews = [
      "« J'ai gagné 500 € – simple et efficace. » - Clara, 29 ans (8/10)",
      "« Gagné 300 € grâce au service. » - Thomas, 35 ans (7/10)",
      "« Les désenvoutements m'ont aidé à gagner. » - Sophie, 42 ans (9/10)",
      "« Mes numéros se sont alignés... gagné 800 €. » - Julien, 31 ans (8/10)",
      "« Plusieurs gains grâce à ce site. » - Élodie, 27 ans (7/10)",
      "« J'ai obtenu 1000 € de gains. » - Marc, 48 ans (9/10)",
      "« Gagné 600 € et l'interface est intuitive. » - Aline, 33 ans (8/10)"
    ];
    const carouselInner = document.getElementById('carouselInner');
    let currentIndex = 0;
    function initCarousel() {
      reviews.forEach((review, index) => {
        const item = document.createElement('div');
        item.classList.add('carousel-item');
        item.setAttribute("role", "listitem");
        item.textContent = review;
        if(index === 0) item.classList.add('active');
        carouselInner.appendChild(item);
      });
      updateCarouselIndicator();
    }
    function updateCarouselIndicator() {
      const indicator = document.getElementById('carouselIndicator');
      indicator.textContent = `Slide ${currentIndex + 1} sur ${reviews.length}`;
    }
    function nextReview() {
      const items = carouselInner.children;
      items[currentIndex].classList.remove('active');
      currentIndex = (currentIndex + 1) % items.length;
      items[currentIndex].classList.add('active');
      updateCarouselIndicator();
    }
    function prevReview() {
      const items = carouselInner.children;
      items[currentIndex].classList.remove('active');
      currentIndex = (currentIndex - 1 + items.length) % items.length;
      items[currentIndex].classList.add('active');
      updateCarouselIndicator();
    }
    initCarousel();
    setInterval(nextReview, 3000);
    document.querySelector('.carousel').addEventListener('keydown', function(e) {
      if (e.key === 'ArrowLeft') prevReview();
      else if (e.key === 'ArrowRight') nextReview();
    });

    /*******************************
     * Gestion du formulaire d'inscription avec validation accessible
     *******************************/
    function handleSubscribe(event) {
      event.preventDefault();
      const emailInput = event.target.querySelector('input[type="email"]');
      const errorMessage = document.getElementById("errorMessage");
      const email = emailInput.value.trim();
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        errorMessage.textContent = "Veuillez entrer une adresse e-mail valide.";
        emailInput.focus();
      } else {
        errorMessage.textContent = "";
        const subject = "Inscription à la newsletter ClairvoyanceMedium";
        const body = "Bonjour,\n\nVoici mon adresse e-mail pour l'inscription : " + email + "\n\nCordialement,";
        window.location.href = `mailto:contact.clairvoyancemedium@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      }
    }

    /*******************************
     * Icône de contact déplaçable
     *******************************/
    (function(){
      const draggableContact = document.getElementById("draggableContact");
      let isDragging = false, offsetX, offsetY;
      function moveHandler(e) {
        if (isDragging) {
          const x = e.clientX - offsetX;
          const y = e.clientY - offsetY;
          const bounds = document.body.getBoundingClientRect();
          draggableContact.style.left = Math.max(0, Math.min(x, bounds.width - draggableContact.offsetWidth)) + "px";
          draggableContact.style.top = Math.max(0, Math.min(y, bounds.height - draggableContact.offsetHeight)) + "px";
        }
      }
      function touchMoveHandler(e) {
        if (isDragging) {
          const touch = e.touches[0];
          const x = touch.clientX - offsetX;
          const y = touch.clientY - offsetY;
          const bounds = document.body.getBoundingClientRect();
          draggableContact.style.left = Math.max(0, Math.min(x, bounds.width - draggableContact.offsetWidth)) + "px";
          draggableContact.style.top = Math.max(0, Math.min(y, bounds.height - draggableContact.offsetHeight)) + "px";
        }
      }
      draggableContact.addEventListener("mousedown", function(e) {
        isDragging = true;
        offsetX = e.clientX - draggableContact.getBoundingClientRect().left;
        offsetY = e.clientY - draggableContact.getBoundingClientRect().top;
      });
      document.addEventListener("mousemove", moveHandler);
      document.addEventListener("mouseup", function() { isDragging = false; });
      draggableContact.addEventListener("touchstart", function(e) {
        const touch = e.touches[0];
        isDragging = true;
        offsetX = touch.clientX - draggableContact.getBoundingClientRect().left;
        offsetY = touch.clientY - draggableContact.getBoundingClientRect().top;
      });
      document.addEventListener("touchmove", touchMoveHandler);
      document.addEventListener("touchend", function() { isDragging = false; });
    })();

    /*******************************
     * Lazy loading des sections
     *******************************/
    document.addEventListener("DOMContentLoaded", function(){
      const sections = document.querySelectorAll('section[loading="lazy"]');
      if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver(function(entries, obs) {
          entries.forEach(function(entry){
            if(entry.isIntersecting) {
              entry.target.classList.add('loaded');
              obs.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });
        sections.forEach(function(section){ observer.observe(section); });
      } else {
        sections.forEach(function(section){ section.classList.add('loaded'); });
      }
    });
  </script>

  <noscript>
    <div style="background:var(--section-bg); color:var(--text-light); padding:1rem; margin:1rem; text-align:center;">
      Activez JavaScript pour une expérience complète. Grille statique : 5 - 12 - 19 - 26 - 33 - Chance : 8.
    </div>
  </noscript>
</body>
</html>
